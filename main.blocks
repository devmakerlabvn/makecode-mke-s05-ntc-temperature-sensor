<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="M@9lBVptlj+_.B}~M{K#">analog_NTC</variable><variable id="BSdN19l~4+Juw0_~u3hE">percent_NTC</variable><variable id="6XIKUF{Up6*/3IfxW{6T">rNTC</variable><variable id="]ompLmJOm]qFwr,3b1G6">R</variable><variable id="dXoD|a8.a{RyS;#2!^Xi">tempK</variable><variable id=";]I:_VYM@qO.SNKl{}F=">A</variable><variable id="C*QS7[f%q?))eTHh=4TU">B</variable><variable id="az4RO6r-TNg:3%oIOz,U">log_rNTC</variable><variable id="(9`(MRU=-+dqescuSc9q">C</variable><variable id="kLc-8dBBUzXa?IL1fOUa">tempC</variable></variables><block type="pxt-on-start" id="I}TSf%-fRuL^EHy_j7.2" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="Pdv}Ez5h%xP49xH`t0vO"><field name="VAR" id=";]I:_VYM@qO.SNKl{}F=">A</field><comment pinned="false" h="80" w="160">Các hằng số trong công thức của NTC</comment><value name="VALUE"><shadow type="math_number" id="Ek[W?,WgY9w^on%%o*q("><field name="NUM">0.001009249522</field></shadow></value><next><block type="variables_set" id="E0)J!WNe4G)IZ*}isr:,"><field name="VAR" id="C*QS7[f%q?))eTHh=4TU">B</field><value name="VALUE"><shadow type="math_number" id="S?h8::F2HW6!fI@4h|SM"><field name="NUM">0.0002378405444</field></shadow></value><next><block type="variables_set" id="p=XsJFGe:k|/QTCX~,ol"><field name="VAR" id="(9`(MRU=-+dqescuSc9q">C</field><value name="VALUE"><shadow type="math_number" id="L-6$D$wRH:8rJ,C5o(VE"><field name="NUM">2.019202697e-7</field></shadow></value><next><block type="typescript_statement" id="53w]w5Q8Y^G[py-7G1]8"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let analog_NTC" numlines="1" declaredvars="analog_NTC"></mutation><next><block type="typescript_statement" id="UnAC/7lMsmM51pDXeN~1"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let percent_NTC" numlines="1" declaredvars="percent_NTC"></mutation><next><block type="variables_set" id="tQ5efFv;uZeo{s^WN!x*"><field name="VAR" id="]ompLmJOm]qFwr,3b1G6">R</field><comment pinned="false" h="80" w="160">Giá trị điện trở phân áp (1k Ohm) với NTC</comment><value name="VALUE"><shadow type="math_number" id="|nvNw0I7dLo}Qg[o=?[2"><field name="NUM">1000</field></shadow></value><next><block type="typescript_statement" id="9w)lOMh]B)HH2GV/r9ZT"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rNTC" numlines="1" declaredvars="rNTC"></mutation><next><block type="typescript_statement" id="nXvA.Xyg=cb0xT6AURn9"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let log_rNTC" numlines="1" declaredvars="log_rNTC"></mutation><next><block type="typescript_statement" id="HZhTO$iwz-eB.YF}-I(0"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let tempK" numlines="1" declaredvars="tempK"></mutation><next><block type="typescript_statement" id="iFa%ezKeni+[iYQx):j["><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let tempC" numlines="1" declaredvars="tempC"></mutation><next><block type="serial_setbaudrate" id="9$GC8TP)M1d.}+.JHZXp"><field name="rate">BaudRate.BaudRate115200</field><comment pinned="false" h="80" w="160">Bật cổng Serial</comment><next><block type="lcd_clearScreen" id="NCBx!E5f2kcv.Cy#CR;Q"><comment pinned="false" h="80" w="160">Xóa toàn bộ nội dung trên LCD (nếu có)</comment><next><block type="lcd_displayText" id="OeE*5Vkqfb]o/}]fHVe)"><comment pinned="false" h="80" w="160">Cho hiển thị tiêu đề trước</comment><value name="text"><shadow type="text" id="3R+*fophcHQyN$[S!FMq"><field name="TEXT">Temperature NTC</field></shadow></value><value name="col"><shadow type="math_number_minmax" id=";b%d%Xf?p(mUkVhTs6:|"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax" id="E1#liEXIT-uY!bz)zq~9"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="lcd_displayText" id="OcaFpk0.g}(GnsMD5Rh{"><value name="text"><block type="lcd_displaySymbol" id="lmNP)Ri2-ws]}sMwKBhJ"><field name="sym">lcd.Symbols.sym02</field></block></value><value name="col"><shadow type="math_number_minmax" id="j?`qvdlHIu+2p9(}k/XG"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="row"><shadow type="math_number_minmax" id="8y(icRg82e2r@`cRKfgv"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">2</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="v.4#t@8^A#YS9aEqBB$/" x="778" y="20"><statement name="HANDLER"><block type="variables_set" id="]!gU,E/le}1+5i[7Bck:"><field name="VAR" id="M@9lBVptlj+_.B}~M{K#">analog_NTC</field><comment pinned="false" h="80" w="160">Đọc giá trị Analog của NTC và đổi ra thang (%)</comment><value name="VALUE"><shadow type="math_number" id="2(:?7NGIUCHLCEQ]A4_h"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="YO*SfwMGa4C+%-s~2S5|"><value name="name"><shadow type="analog_read_write_pin_shadow" id="N@U9LE]pbcu|[ylCMxTI"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id=")Y2Y*+;AgA9b(udHdNs}"><field name="pin">AnalogPin.P0</field></block></value></block></value><next><block type="variables_set" id="p_zxh^ugu5J|%9t}uH$W"><field name="VAR" id="BSdN19l~4+Juw0_~u3hE">percent_NTC</field><value name="VALUE"><shadow type="math_number" id="y.Qx3,#m,W+nG!G9EU#y"><field name="NUM">0</field></shadow><block type="math_js_round" id="M^y]P1IKRI3%%VM)RYN{"><field name="OP">round</field><value name="ARG0"><shadow type="math_number" id="z16NZa:_E%,MZM@5|B69"><field name="NUM">0</field></shadow><block type="math_map" id="t*B*x3ZBYt](W{!acv(z"><value name="value"><block type="variables_get" id="0FQDk7H^9ZySP2}j/p{g"><field name="VAR" id="M@9lBVptlj+_.B}~M{K#">analog_NTC</field></block></value><value name="fromLow"><shadow type="math_number" id="u2.,WQmet(D]!G6C[64%"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="brf=_.3JF3TW48Z=N[2%"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number" id="cGbzQh7ckaM|C@5Z0bD5"><field name="NUM">100</field></shadow></value><value name="toHigh"><shadow type="math_number" id="{=OSpE*g/B:Jm$,=X@]?"><field name="NUM">0</field></shadow></value></block></value></block></value><next><block type="variables_set" id="3?D[5D+V4?LrLtfFdnWB"><field name="VAR" id="6XIKUF{Up6*/3IfxW{6T">rNTC</field><comment pinned="false" h="80" w="160">Các bước tính nhiệt độ của NTC
1. Tính giá trị Điện trở hiện tại của NTC dựa trên giá trị Analog
2. Tính Logarit của giá trị Điện trở NTC
3. Áp dụng công thức của NTC, tính ra nhiệt độ °K
4. Chuyển đổi °K sang °C
5. Lấy giá trị °C với 2 chữ số thập phân</comment><value name="VALUE"><shadow type="math_number" id="HFv)kq@a1-S:)xVojZdX"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="D2K(J9KGsyQPfO*EvFI)"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="2G(w3uQ=)v1lKNX+(;B3"><field name="NUM">0</field></shadow><block type="variables_get" id=";K%zb7STu^Aq^1?Z+0c|"><field name="VAR" id="]ompLmJOm]qFwr,3b1G6">R</field></block></value><value name="B"><shadow type="math_number" id="u.8nJ[zyAEa%Z*J?tTN_"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="s]J=dcQ9=Sk:%pK23yT8"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="tj?L-^J9C%mOf!~|Vt$Z"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="b.g(h$-~:%UbAH-ViLZ}"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="3c4E2.aqUD-yVIdpL(ib"><field name="NUM">1024</field></shadow></value><value name="B"><shadow type="math_number" id="Z4a3Ye~mQY!yxtyn;w76"><field name="NUM">0</field></shadow><block type="variables_get" id="n$u.U]C+CxLGHNvdZfls"><field name="VAR" id="M@9lBVptlj+_.B}~M{K#">analog_NTC</field></block></value></block></value><value name="B"><shadow type="math_number" id="JP;)K5q1)?$W2:Fxyzf7"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="typescript_statement" id="SeCg5OZjGh5Yve#DH49B"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="log_rNTC = Math.log(rNTC)" numlines="1"></mutation><next><block type="variables_set" id="(n}M-HChw%]$_$K%N6#("><field name="VAR" id="dXoD|a8.a{RyS;#2!^Xi">tempK</field><value name="VALUE"><shadow type="math_number" id="pAaI]6Je01k!jU*lae9o"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="*/t^$u-agnAkp|Pv0Q=R"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="EJH,KoNPI%^SYI)Sp#kP"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number" id="),,2mo9jNOnq34[G-ZZ$"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="=..x;}Z%-C/k+2$+o/x:"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="H4;8iO|oAiY7V^F5gJ71"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Z:@1,*PH^79,g60pPz!q"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="JiK-W/fgz=S=+$^[w/0b"><field name="NUM">0</field></shadow><block type="variables_get" id="1+Ll8Bj@`BM[,h7,)U5_"><field name="VAR" id=";]I:_VYM@qO.SNKl{}F=">A</field></block></value><value name="B"><shadow type="math_number" id="Wj#oP.Q9fye-Vzm[j*VW"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="+*8,3A+K,OFeF/@4.pS1"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="w~a5ay_i:^Q_yZOlMhu3"><field name="NUM">0</field></shadow><block type="variables_get" id="ll%mZ~-%hPE@acp[Jl4,"><field name="VAR" id="C*QS7[f%q?))eTHh=4TU">B</field></block></value><value name="B"><shadow type="math_number" id="KeF%iTIf!iL.,ph~h+uF"><field name="NUM">0</field></shadow><block type="variables_get" id="8|7g!f*a2~C*K2^~wYs~"><field name="VAR" id="az4RO6r-TNg:3%oIOz,U">log_rNTC</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="Mf)qE1(nTknZO]d@A9=)"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="(MQBq3y5*=nP,CK%n7Y9"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="ta-[[VNhduk$$MDCqj8~"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="ft..c%05lyqo_Fu//~Vh"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="2KV6]`T?JbX}JaVPisZQ"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="co/D5vjG#H{pYz3ac}_I"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="kd;EB?(Mw{69P;1S@A@{"><field name="NUM">0</field></shadow><block type="variables_get" id="nzJ?(+[uJioqqi97^=*5"><field name="VAR" id="(9`(MRU=-+dqescuSc9q">C</field></block></value><value name="B"><shadow type="math_number" id="|,s/N:3oGB~SX_G6N6Tp"><field name="NUM">0</field></shadow><block type="variables_get" id="=^#f{*ecW=fXxn{5mmUf"><field name="VAR" id="az4RO6r-TNg:3%oIOz,U">log_rNTC</field></block></value></block></value><value name="B"><shadow type="math_number" id="RU]SUYZa3gGeo4ang5uO"><field name="NUM">0</field></shadow><block type="variables_get" id="USBG_gtMY2:Ks~IK6~SZ"><field name="VAR" id="az4RO6r-TNg:3%oIOz,U">log_rNTC</field></block></value></block></value><value name="B"><shadow type="math_number" id="8h*YyOYvt6QiFp.p=Gm["><field name="NUM">0</field></shadow><block type="variables_get" id="e`-.RPeV?4Rz^+Jm.+]j"><field name="VAR" id="az4RO6r-TNg:3%oIOz,U">log_rNTC</field></block></value></block></value></block></value></block></value><next><block type="variables_set" id="l]{6Xu/[V6EG+h4Jj[iy"><field name="VAR" id="kLc-8dBBUzXa?IL1fOUa">tempC</field><value name="VALUE"><shadow type="math_number" id="f1`jZq1MOy|UQ6|.?q/7"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="OSK[WzZV*:0)Qer.-Rax"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="wQF#BxOr+aBku5lsj/mh"><field name="NUM">0</field></shadow><block type="variables_get" id="KV/Gm#B~WqC?Mo`r],}9"><field name="VAR" id="dXoD|a8.a{RyS;#2!^Xi">tempK</field></block></value><value name="B"><shadow type="math_number" id="?5pt?PESsg#rY92B+022"><field name="NUM">273.15</field></shadow></value></block></value><next><block type="variables_set" id="Mv~h7Y]4vp=TuT{f:^@7"><field name="VAR" id="kLc-8dBBUzXa?IL1fOUa">tempC</field><value name="VALUE"><shadow type="math_number" id="Q1$Q~wF#oQAmHIR4Zm`o"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="1JHm{l!#wEFIQnCd6_bF"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="/FtbS:?W8.Y+mUVEeVae"><field name="NUM">0</field></shadow><block type="math_js_round" id="?1DA(*kH7PFRSFkEed_-"><field name="OP">trunc</field><value name="ARG0"><shadow type="math_number" id="pPiTUJ.mqhQa9hgl*:p7"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="^FVY!}m,p7}/-[AH01BB"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="~0Ju%OjU]M8,mCmersc2"><field name="NUM">0</field></shadow><block type="variables_get" id="?D%)ono-@8`wllGXO6Zu"><field name="VAR" id="kLc-8dBBUzXa?IL1fOUa">tempC</field></block></value><value name="B"><shadow type="math_number" id=")`fBPB.irMFVlpmgRN}t"><field name="NUM">100</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number" id="tfxsV@(mR$?[7Q#F?!!?"><field name="NUM">100</field></shadow></value></block></value><next><block type="lcd_displayText" id="jU7C-RaJjeVA}h4k%VQ*"><comment pinned="false" h="80" w="160">Cho hiển thị giá trị nhiệt độ °C của NTC trên LCD sau tiêu đề</comment><value name="text"><block type="text_join" id="[cYw^BojX3sAx?8[Z5Cg"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="/_R4FgurVVK`UMY!evZ2"><field name="TEXT"></field></shadow><block type="variables_get" id="X+vs=0uW/:OgW9Ck$noN"><field name="VAR" id="kLc-8dBBUzXa?IL1fOUa">tempC</field></block></value><value name="ADD1"><shadow type="text" id="F|;O@cN@U$|.{@B;5BpV"><field name="TEXT"></field></shadow><block type="lcd_displaySymbol" id="6osiIw`dA_FB%_bPFN~i"><field name="sym">lcd.Symbols.sym07</field></block></value><value name="ADD2"><shadow type="text" id="1h5}P:t.8M5AN86RA4Mc"><field name="TEXT">C  </field></shadow></value></block></value><value name="col"><shadow type="math_number_minmax" id="b7D9K5;emA5dF56ALiYi"><mutation min="1" max="20" precision="0"></mutation><field name="SLIDER">3</field></shadow></value><value name="row"><shadow type="math_number_minmax" id="a%Nu+(!n@6Qkpyyt^g@a"><mutation min="1" max="4" precision="0"></mutation><field name="SLIDER">2</field></shadow></value><next><block type="serial_writeline" id="MRqq`S){vO|KE1_amw4H"><comment pinned="false" h="80" w="160">Gửi giá trị (%) của NTC lên Serial</comment><value name="text"><shadow type="text" id="OEV2_GcIGdu_1]DThvip"><field name="TEXT"></field></shadow><block type="variables_get" id="VX7|x7A4V0+gzzZ/t1J@"><field name="VAR" id="BSdN19l~4+Juw0_~u3hE">percent_NTC</field></block></value><next><block type="device_pause" id="B[hrM3DrLX=gu4xliA!D"><comment pinned="false" h="80" w="160">Dừng 0.5s</comment><value name="pause"><shadow type="timePicker" id=")hDtwLv@eP40KfLwXb/R"><field name="ms">500</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>